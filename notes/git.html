<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git简介 | tools-ui</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/tools-ui/favicon.ico">
    <meta name="description" content="vue组件库">
    
    <link rel="preload" href="/tools-ui/assets/css/0.styles.a02c1e00.css" as="style"><link rel="preload" href="/tools-ui/assets/js/app.a3368f94.js" as="script"><link rel="preload" href="/tools-ui/assets/js/3.1c456e36.js" as="script"><link rel="preload" href="/tools-ui/assets/js/86.1e46ba4b.js" as="script"><link rel="prefetch" href="/tools-ui/assets/js/1.3bc90320.js"><link rel="prefetch" href="/tools-ui/assets/js/10.fda86c8c.js"><link rel="prefetch" href="/tools-ui/assets/js/11.fd3ab83f.js"><link rel="prefetch" href="/tools-ui/assets/js/12.f30f1156.js"><link rel="prefetch" href="/tools-ui/assets/js/13.ac0c1ccb.js"><link rel="prefetch" href="/tools-ui/assets/js/14.16e6335b.js"><link rel="prefetch" href="/tools-ui/assets/js/15.889c872a.js"><link rel="prefetch" href="/tools-ui/assets/js/16.00675eb1.js"><link rel="prefetch" href="/tools-ui/assets/js/17.db414556.js"><link rel="prefetch" href="/tools-ui/assets/js/18.f2694a6c.js"><link rel="prefetch" href="/tools-ui/assets/js/19.60e1d39c.js"><link rel="prefetch" href="/tools-ui/assets/js/20.f8552fdc.js"><link rel="prefetch" href="/tools-ui/assets/js/21.77abe82d.js"><link rel="prefetch" href="/tools-ui/assets/js/22.db6ca5ac.js"><link rel="prefetch" href="/tools-ui/assets/js/23.8fed0d82.js"><link rel="prefetch" href="/tools-ui/assets/js/24.1ad2ab79.js"><link rel="prefetch" href="/tools-ui/assets/js/25.05b038e5.js"><link rel="prefetch" href="/tools-ui/assets/js/26.385b456f.js"><link rel="prefetch" href="/tools-ui/assets/js/27.7370b208.js"><link rel="prefetch" href="/tools-ui/assets/js/28.5dfdc033.js"><link rel="prefetch" href="/tools-ui/assets/js/29.ebfbf078.js"><link rel="prefetch" href="/tools-ui/assets/js/30.650e0863.js"><link rel="prefetch" href="/tools-ui/assets/js/31.5beb7f17.js"><link rel="prefetch" href="/tools-ui/assets/js/32.8ae18ac0.js"><link rel="prefetch" href="/tools-ui/assets/js/33.f7e41217.js"><link rel="prefetch" href="/tools-ui/assets/js/34.697ee34f.js"><link rel="prefetch" href="/tools-ui/assets/js/35.2d4cc9a6.js"><link rel="prefetch" href="/tools-ui/assets/js/36.7017c947.js"><link rel="prefetch" href="/tools-ui/assets/js/37.cd36d33c.js"><link rel="prefetch" href="/tools-ui/assets/js/38.215de6c2.js"><link rel="prefetch" href="/tools-ui/assets/js/39.19b58cf8.js"><link rel="prefetch" href="/tools-ui/assets/js/4.1a40a618.js"><link rel="prefetch" href="/tools-ui/assets/js/40.1d51ce9f.js"><link rel="prefetch" href="/tools-ui/assets/js/41.5599ded4.js"><link rel="prefetch" href="/tools-ui/assets/js/42.20cb019c.js"><link rel="prefetch" href="/tools-ui/assets/js/43.1e06d7a1.js"><link rel="prefetch" href="/tools-ui/assets/js/44.3e6714d0.js"><link rel="prefetch" href="/tools-ui/assets/js/45.5c357722.js"><link rel="prefetch" href="/tools-ui/assets/js/46.79966928.js"><link rel="prefetch" href="/tools-ui/assets/js/47.1c3b0c76.js"><link rel="prefetch" href="/tools-ui/assets/js/48.5d6a61e0.js"><link rel="prefetch" href="/tools-ui/assets/js/49.d1058dfd.js"><link rel="prefetch" href="/tools-ui/assets/js/5.c9fdd587.js"><link rel="prefetch" href="/tools-ui/assets/js/50.3f60e985.js"><link rel="prefetch" href="/tools-ui/assets/js/51.564d4298.js"><link rel="prefetch" href="/tools-ui/assets/js/52.2b03c407.js"><link rel="prefetch" href="/tools-ui/assets/js/53.7e807bd7.js"><link rel="prefetch" href="/tools-ui/assets/js/54.a3964b2a.js"><link rel="prefetch" href="/tools-ui/assets/js/55.c3889e7d.js"><link rel="prefetch" href="/tools-ui/assets/js/56.e4ca540b.js"><link rel="prefetch" href="/tools-ui/assets/js/57.12dbf7f9.js"><link rel="prefetch" href="/tools-ui/assets/js/58.812082b2.js"><link rel="prefetch" href="/tools-ui/assets/js/59.f5d52f37.js"><link rel="prefetch" href="/tools-ui/assets/js/6.f216517a.js"><link rel="prefetch" href="/tools-ui/assets/js/60.45ff3148.js"><link rel="prefetch" href="/tools-ui/assets/js/61.a0207a94.js"><link rel="prefetch" href="/tools-ui/assets/js/62.df5c9594.js"><link rel="prefetch" href="/tools-ui/assets/js/63.f7613b29.js"><link rel="prefetch" href="/tools-ui/assets/js/64.6e76c226.js"><link rel="prefetch" href="/tools-ui/assets/js/65.532e016f.js"><link rel="prefetch" href="/tools-ui/assets/js/66.a41cf7c3.js"><link rel="prefetch" href="/tools-ui/assets/js/67.7e35285c.js"><link rel="prefetch" href="/tools-ui/assets/js/68.d6a4c5d9.js"><link rel="prefetch" href="/tools-ui/assets/js/69.03ad0a27.js"><link rel="prefetch" href="/tools-ui/assets/js/7.3c9692c1.js"><link rel="prefetch" href="/tools-ui/assets/js/70.3a40ab5e.js"><link rel="prefetch" href="/tools-ui/assets/js/71.38181afb.js"><link rel="prefetch" href="/tools-ui/assets/js/72.efc4bfdb.js"><link rel="prefetch" href="/tools-ui/assets/js/73.2e276f06.js"><link rel="prefetch" href="/tools-ui/assets/js/74.95b8b2be.js"><link rel="prefetch" href="/tools-ui/assets/js/75.95cb2f1a.js"><link rel="prefetch" href="/tools-ui/assets/js/76.d85643de.js"><link rel="prefetch" href="/tools-ui/assets/js/77.1651c004.js"><link rel="prefetch" href="/tools-ui/assets/js/78.a41d2c2b.js"><link rel="prefetch" href="/tools-ui/assets/js/79.a9642c8d.js"><link rel="prefetch" href="/tools-ui/assets/js/8.73dced10.js"><link rel="prefetch" href="/tools-ui/assets/js/80.8dff18ca.js"><link rel="prefetch" href="/tools-ui/assets/js/81.2ad03312.js"><link rel="prefetch" href="/tools-ui/assets/js/82.f0eb506b.js"><link rel="prefetch" href="/tools-ui/assets/js/83.0e37ed1f.js"><link rel="prefetch" href="/tools-ui/assets/js/84.edbe431b.js"><link rel="prefetch" href="/tools-ui/assets/js/85.0a39565a.js"><link rel="prefetch" href="/tools-ui/assets/js/87.044c29f1.js"><link rel="prefetch" href="/tools-ui/assets/js/88.d9be93ad.js"><link rel="prefetch" href="/tools-ui/assets/js/9.7388eb1b.js">
    <link rel="stylesheet" href="/tools-ui/assets/css/0.styles.a02c1e00.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tools-ui/" class="home-link router-link-active"><img src="/tools-ui/img/logo.png" alt="tools-ui" class="logo"> <span class="site-name can-hide">tools-ui</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tools-ui/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/tools-ui/element/" class="nav-link">
  element组件
</a></div><div class="nav-item"><a href="/tools-ui/packages/" class="nav-link">
  组件库
</a></div><div class="nav-item"><a href="/tools-ui/notes/" class="nav-link router-link-active">
  记录
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tools-ui/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/tools-ui/element/" class="nav-link">
  element组件
</a></div><div class="nav-item"><a href="/tools-ui/packages/" class="nav-link">
  组件库
</a></div><div class="nav-item"><a href="/tools-ui/notes/" class="nav-link router-link-active">
  记录
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>构建笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tools-ui/notes/eventLoop.html" class="sidebar-link">EVENTLOOP</a></li><li><a href="/tools-ui/notes/git.html" aria-current="page" class="active sidebar-link">Git简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#准备阶段" class="sidebar-link">准备阶段</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#常用操作" class="sidebar-link">常用操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-clone" class="sidebar-link">git clone</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-config" class="sidebar-link">git config</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-branch" class="sidebar-link">git branch</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-checkout" class="sidebar-link">git checkout</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-status" class="sidebar-link">git status</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-add" class="sidebar-link">git add</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-commit" class="sidebar-link">git commit</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-push" class="sidebar-link">git push</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-pull" class="sidebar-link">git pull</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-log" class="sidebar-link">git log</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-tag" class="sidebar-link">git tag</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#gitignore" class="sidebar-link">.gitignore</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#小结" class="sidebar-link">小结</a></li></ul></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#基本概念" class="sidebar-link">基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#工作区-working-directory" class="sidebar-link">工作区（Working Directory）</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#本地版本库-local-repository" class="sidebar-link">本地版本库（Local Repository）</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#暂存区-stage" class="sidebar-link">暂存区（stage）</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#远程版本库-remote-repository" class="sidebar-link">远程版本库（Remote Repository）</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#以上概念之间的关系" class="sidebar-link">以上概念之间的关系</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#分支-branch" class="sidebar-link">分支（Branch）</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#主分支-master" class="sidebar-link">主分支（Master）</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#标签-tag" class="sidebar-link">标签（Tag）</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#head" class="sidebar-link">HEAD</a></li></ul></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#操作文件" class="sidebar-link">操作文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-add-2" class="sidebar-link">git add</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-commit-2" class="sidebar-link">git commit</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-mv" class="sidebar-link">git mv</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-rm" class="sidebar-link">git rm</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-status-2" class="sidebar-link">git status</a></li></ul></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#操作分支" class="sidebar-link">操作分支</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-branch-2" class="sidebar-link">git branch</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-merge" class="sidebar-link">git merge</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-checkout-2" class="sidebar-link">git checkout</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-stash" class="sidebar-link">git stash</a></li></ul></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#操作历史" class="sidebar-link">操作历史</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-log-2" class="sidebar-link">git log</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-cherry-pick" class="sidebar-link">git cherry-pick</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-reset" class="sidebar-link">git reset</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-rebase" class="sidebar-link">git rebase</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-revert" class="sidebar-link">git revert</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-diff" class="sidebar-link">git diff</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-reflog" class="sidebar-link">git reflog</a></li></ul></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#远程版本库连接" class="sidebar-link">远程版本库连接</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-init" class="sidebar-link">git init</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-remote" class="sidebar-link">git remote</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-fetch" class="sidebar-link">git fetch</a></li></ul></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#问题排查" class="sidebar-link">问题排查</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-blame" class="sidebar-link">git blame</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-bisect" class="sidebar-link">git bisect</a></li></ul></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#更多操作" class="sidebar-link">更多操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-submodule" class="sidebar-link">git submodule</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-gc" class="sidebar-link">git gc</a></li><li class="sidebar-sub-header"><a href="/tools-ui/notes/git.html#git-archive" class="sidebar-link">git archive</a></li></ul></li></ul></li><li><a href="/tools-ui/notes/markdown.html" class="sidebar-link">markdown速记表</a></li><li><a href="/tools-ui/notes/requestAnimationFrame.html" class="sidebar-link">requestAnimationFrame用法</a></li><li><a href="/tools-ui/notes/travis.html" class="sidebar-link">通过Travis自动部署Vue项目</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git简介"><a href="#git简介" class="header-anchor">#</a> Git简介</h1> <p><code>Git</code> 是一种分布式版本控制系统，它可以不受网络连接的限制，加上其它众多优点，目前已经成为程序开发人员做项目版本管理时的首选，非开发人员也可以用 <code>Git</code> 来做自己的文档版本管理工具。大概是大二的时候开始接触和使用Git，从一开始的零接触到现在的重度依赖，真是感叹 <code>Git</code> 的强大。<code>Git</code> 的api很多，但其实平时项目中90%的需求都只需要用到几个基本的功能即可，所以本文将从 <code>实用主义</code> 和 <code>深入探索</code> 2个方面去谈谈如何在项目中使用 <code>Git</code>，一般来说，看完 <code>实用主义</code> 这一节就可以开始在项目中动手用。</p> <blockquote><p>“说明：本文的操作都是基于 Mac 系统</p></blockquote> <h1 id="实用主义"><a href="#实用主义" class="header-anchor">#</a> 实用主义</h1> <h2 id="准备阶段"><a href="#准备阶段" class="header-anchor">#</a> 准备阶段</h2> <p>进入 Git官网 下载合适你的安装包，安装好 <code>Git</code> 后，打开命令行工具，进入工作文件夹（<em>为了便于理解我们在系统桌面上演示</em>），创建一个新的demo文件夹。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowxj20znuUX8pOw2EBB5Wvo6FbFbSgbbREAKBia8lBGqAC0DkI44wUlZA/640?wx_fmt=png" alt="图片"></p> <p>进入 Github网站 注册一个账号并登录，进入 我的博客，点击 <code>Clone or download</code>，再点击 <code>Use HTTPS</code> ，复制项目地址 <code>https://github.com/gafish/gafish.github.com.git</code> 备用。再回到命令行工具，一切就绪，接下来进入本文的重点。</p> <h2 id="常用操作"><a href="#常用操作" class="header-anchor">#</a> 常用操作</h2> <p>所谓实用主义，就是掌握了以下知识就可以玩转 <code>Git</code>，轻松应对90%以上的需求。以下是实用主义型的Git命令列表，先大致看一下</p> <ul><li><code>git clone</code></li> <li><code>git config</code></li> <li><code>git branch</code></li> <li><code>git checkout</code></li> <li><code>git status</code></li> <li><code>git add</code></li> <li><code>git commit</code></li> <li><code>git push</code></li> <li><code>git pull</code></li> <li><code>git log</code></li> <li><code>git tag</code></li></ul> <p>接下来，将通过对 我的博客 仓库进行实例操作，讲解如何使用 <code>Git</code> 拉取代码到提交代码的整个流程。</p> <h3 id="git-clone"><a href="#git-clone" class="header-anchor">#</a> git clone</h3> <blockquote><p>“从git服务器拉取代码</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git clone https://github.com/gafish/gafish.github.com.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>代码下载完成后在当前文件夹中会有一个 <code>gafish.github.com</code> 的目录，通过 <code>cd gafish.github.com</code> 命令进入目录。</p> <h3 id="git-config"><a href="#git-config" class="header-anchor">#</a> git config</h3> <blockquote><p>“配置开发者用户名和邮箱</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git config user.name gafishgit config user.email gafish@qqqq.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>每次代码提交的时候都会生成一条提交记录，其中会包含当前配置的用户名和邮箱。</p> <h3 id="git-branch"><a href="#git-branch" class="header-anchor">#</a> git branch</h3> <blockquote><p>“创建、重命名、查看、删除项目分支，通过 <code>Git</code> 做项目开发时，一般都是在开发分支中进行，开发完成后合并分支到主干。</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch daily/0.0.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建一个名为 <code>daily/0.0.0</code> 的日常开发分支，分支名只要不包括特殊字符即可。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch -m daily/0.0.0 daily/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果觉得之前的分支名不合适，可以为新建的分支重命名，重命名分支名为 <code>daily/0.0.1</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过不带参数的branch命令可以查看当前项目分支列表</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch -d daily/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果分支已经完成使命则可以通过 <code>-d</code> 参数将分支删除，这里为了继续下一步操作，暂不执行删除操作</p> <h3 id="git-checkout"><a href="#git-checkout" class="header-anchor">#</a> git checkout</h3> <blockquote><p>“切换分支</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout daily/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>切换到 <code>daily/0.0.1</code> 分支，后续的操作将在这个分支上进行</p> <h3 id="git-status"><a href="#git-status" class="header-anchor">#</a> git status</h3> <blockquote><p>“查看文件变动状态</p></blockquote> <p>通过任何你喜欢的编辑器对项目中的 <code>README.md</code> 文件做一些改动，保存。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git status
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过 <code>git status</code> 命令可以看到文件当前状态 <code>Changes not staged for commit:</code>（<em>改动文件未提交到暂存区</em>）</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>On branch daily/0.0.1Changes not staged for commit:  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)    modified:   README.mdno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="git-add"><a href="#git-add" class="header-anchor">#</a> git add</h3> <blockquote><p>“添加文件变动到暂存区</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git add README.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过指定文件名 <code>README.md</code> 可以将该文件添加到暂存区，如果想添加所有文件可用 <code>git add .</code> 命令，这时候可通过 <code>git status</code> 看到文件当前状态 <code>Changes to be committed:</code> （<em>文件已提交到暂存区</em>）</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>On branch daily/0.0.1Changes to be committed:  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)    modified:   README.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="git-commit"><a href="#git-commit" class="header-anchor">#</a> git commit</h3> <blockquote><p>“提交文件变动到版本库</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git commit -m '这里写提交原因'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过 <code>-m</code> 参数可直接在命令行里输入提交描述文本</p> <h3 id="git-push"><a href="#git-push" class="header-anchor">#</a> git push</h3> <blockquote><p>“将本地的代码改动推送到服务器</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push origin daily/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>origin</code> 指代的是当前的git服务器地址，这行命令的意思是把 <code>daily/0.0.1</code> 分支推送到服务器，当看到命令行返回如下字符表示推送成功了。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Counting objects: 3, done.Delta compression using up to 8 threads.Compressing objects: 100% (2/2), done.Writing objects: 100% (3/3), 267 bytes | 0 bytes/s, done.Total 3 (delta 1), reused 0 (delta 0)remote: Resolving deltas: 100% (1/1), completed with 1 local objects.To https://github.com/gafish/gafish.github.com.git * [new branch]      daily/0.0.1 -&gt; daily/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>现在我们回到Github网站的项目首页，点击 <code>Branch:master</code> 下拉按钮，就会看到刚才推送的 <code>daily/00.1</code> 分支了</p> <h3 id="git-pull"><a href="#git-pull" class="header-anchor">#</a> git pull</h3> <blockquote><p>“将服务器上的最新代码拉取到本地</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git pull origin daily/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果其它项目成员对项目做了改动并推送到服务器，我们需要将最新的改动更新到本地，这里我们来模拟一下这种情况。进入Github网站的项目首页，再进入 <code>daily/0.0.1</code> 分支，在线对 <code>README.md</code> 文件做一些修改并保存，然后在命令中执行以上命令，它将把刚才在线修改的部分拉取到本地，用编辑器打开 <code>README.md</code> ，你会发现文件已经跟线上的内容同步了。<em>如果线上代码做了变动，而你本地的代码也有变动，拉取的代码就有可能会跟你本地的改动冲突，一般情况下 <code>Git</code> 会自动处理这种冲突合并，但如果改动的是同一行，那就需要手动来合并代码，编辑文件，保存最新的改动，再通过 <code>git add .</code>和 <code>git commit -m 'xxx'</code> 来提交合并。</em></p> <h3 id="git-log"><a href="#git-log" class="header-anchor">#</a> git log</h3> <blockquote><p>“查看版本提交记录</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过以上命令，我们可以查看整个项目的版本提交记录，它里面包含了<code>提交人</code>、<code>日期</code>、<code>提交原因</code>等信息，得到的结果如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>commit c334730f8dba5096c54c8ac04fdc2b31ede7107aAuthor: gafish &lt;gafish@qqqq.com&gt;Date:   Wed Jan 11 09:44:13 2017 +0800    Update README.mdcommit ba6e3d21fcb1c87a718d2a73cdd11261eb672b2aAuthor: gafish &lt;gafish@qqqq.com&gt;Date:   Wed Jan 11 09:31:33 2017 +0800    test.....
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>提交记录可能会非常多，按 <code>J</code> 键往下翻，按 <code>K</code> 键往上翻，按 <code>Q</code> 键退出查看</p> <h3 id="git-tag"><a href="#git-tag" class="header-anchor">#</a> git tag</h3> <blockquote><p>“为项目标记里程碑</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git tag publish/0.0.1git push origin publish/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当我们完成某个功能需求准备发布上线时，应该将此次完整的项目代码做个标记，并将这个标记好的版本发布到线上，这里我们以 <code>publish/0.0.1</code> 为标记名并发布，当看到命令行返回如下内容则表示发布成功了</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Total 0 (delta 0), reused 0 (delta 0)To https://github.com/gafish/gafish.github.com.git * [new tag]         publish/0.0.1 -&gt; publish/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="gitignore"><a href="#gitignore" class="header-anchor">#</a> .gitignore</h3> <blockquote><p>“设置哪些内容不需要推送到服务器，这是一个配置文件</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>touch .gitignore
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>.gitignore</code> 不是 <code>Git</code> 命令，而在项目中的一个文件，通过设置 <code>.gitignore</code> 的内容告诉 <code>Git</code> 哪些文件应该被忽略不需要推送到服务器，通过以上命令可以创建一个 <code>.gitignore</code> 文件，并在编辑器中打开文件，每一行代表一个要忽略的文件或目录，如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>demo.htmlbuild/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以上内容的意思是 <code>Git</code> 将忽略 <code>demo.html</code> 文件 和 <code>build/</code> 目录，这些内容不会被推送到服务器上</p> <h3 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h3> <p>通过掌握以上这些基本命令就可以在项目中开始用起来了，如果追求实用，那关于 <code>Git</code> 的学习就可以到此结束了，偶尔遇到的问题也基本上通过 <code>Google</code> 也能找到答案，如果想深入探索 <code>Git</code> 的高阶功能，那就继续往下看 <code>深入探索</code> 部分。</p> <h1 id="深入探索"><a href="#深入探索" class="header-anchor">#</a> 深入探索</h1> <h2 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h2> <h3 id="工作区-working-directory"><a href="#工作区-working-directory" class="header-anchor">#</a> 工作区（<em>Working Directory</em>）</h3> <p>就是你在电脑里能看到的目录，比如上文中的 <code>gafish.github.com</code> 文件夹就是一个工作区<img src="https://mmbiz.qpic.cn/mmbiz_jpg/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowCZt4KXXvUcp7jAg660to0ogjTNbEGeOufnVajuKrGgwnDmjUiceNdaQ/640?wx_fmt=jpeg" alt="图片"></p> <h3 id="本地版本库-local-repository"><a href="#本地版本库-local-repository" class="header-anchor">#</a> 本地版本库（<em>Local Repository</em>）</h3> <p>工作区有一个隐藏目录 <code>.git</code>，这个不算工作区，而是 <code>Git</code> 的版本库。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowhpvK3eAkXrLaeUj6ACFSBbic13Ec4uMWZCG5TfjIRRfVtayMlBKfTkA/640?wx_fmt=jpeg" alt="图片"></p> <h3 id="暂存区-stage"><a href="#暂存区-stage" class="header-anchor">#</a> 暂存区（<em>stage</em>）</h3> <p>本地版本库里存了很多东西，其中最重要的就是称为 <code>stage</code>（或者叫index）的暂存区，还有 <code>Git</code> 为我们自动创建的第一个分支 <code>master</code>，以及指向 <code>master</code> 的一个指针叫 <code>HEAD</code>。</p> <h3 id="远程版本库-remote-repository"><a href="#远程版本库-remote-repository" class="header-anchor">#</a> 远程版本库（<em>Remote Repository</em>）</h3> <p>一般指的是 <code>Git</code> 服务器上所对应的仓库，本文的示例所在的<code>github</code>仓库就是一个远程版本库<img src="https://mmbiz.qpic.cn/mmbiz_jpg/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowzoYKlke1fkocx8gS3zFL5ibwno3gBuaJIkJlXL4ORPmo2qJF6nFex6g/640?wx_fmt=jpeg" alt="图片"></p> <h3 id="以上概念之间的关系"><a href="#以上概念之间的关系" class="header-anchor">#</a> 以上概念之间的关系</h3> <p><code>工作区</code>、<code>暂存区</code>、<code>本地版本库</code>、<code>远程版本库</code>之间几个常用的 <code>Git</code> 操作流程如下图所示：</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowEN1YhichdyZx12x140WwGicznIvevNehMmJcYUjdkNYGPY7kJPFOqNnw/640?wx_fmt=jpeg" alt="图片"></p> <h3 id="分支-branch"><a href="#分支-branch" class="header-anchor">#</a> 分支（<em>Branch</em>）</h3> <p>分支是为了将修改记录的整个流程分开存储，让分开的分支不受其它分支的影响，所以在同一个数据库里可以同时进行多个不同的修改</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowiby6diaQib3fKGhasTd5RbSl6qvxjibhJN2DN45ZoMIDMOseHgO1ibxfibbw/640?wx_fmt=png" alt="图片"></p> <h3 id="主分支-master"><a href="#主分支-master" class="header-anchor">#</a> 主分支（<em>Master</em>）</h3> <p>前面提到过 <code>master</code> 是 <code>Git</code> 为我们自动创建的第一个分支，也叫主分支，其它分支开发完成后都要合并到 <code>master</code></p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgow91IM1Bv81qSK6tYbMpS8icJiaHMuHzHTTtAOEm8DoibjmHruqlwqdWNyA/640?wx_fmt=png" alt="图片"></p> <h3 id="标签-tag"><a href="#标签-tag" class="header-anchor">#</a> 标签（<em>Tag</em>）</h3> <p>标签是用于标记特定的点或提交的历史，通常会用来标记发布版本的名称或版本号（如：<code>publish/0.0.1</code>），虽然标签看起来有点像分支，但打上标签的提交是固定的，不能随意的改动，参见上图中的<code>1.0</code> / <code>2.0</code> / <code>3.0</code></p> <h3 id="head"><a href="#head" class="header-anchor">#</a> HEAD</h3> <p><code>HEAD</code> 指向的就是当前分支的最新提交</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowxN49635dB9zuiaElVicSmgcnnhZicTElUqKkKg31eMsGQSnjHhc2eH5pw/640?wx_fmt=png" alt="图片"></p> <blockquote><p>“以上概念了解的差不多，那就可以继续往下看，下面将以具体的操作类型来讲解 <code>Git</code> 的高阶用法</p></blockquote> <h2 id="操作文件"><a href="#操作文件" class="header-anchor">#</a> 操作文件</h2> <h3 id="git-add-2"><a href="#git-add-2" class="header-anchor">#</a> git add</h3> <blockquote><p>“添加文件到暂存区</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git add -i
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过此命令将打开交互式子命令系统，你将看到如下子命令</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>***Commands***  1: status      2: update      3: revert      4: add untracked  5: patch      6: diff      7: quit      8: help
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过输入序列号或首字母可以选择相应的功能，具体的功能解释如下：</p> <ul><li><code>status</code>：功能上和 <code>git add -i</code> 相似，没什么鸟用</li> <li><code>update</code>：详见下方 <code>git add -u</code></li> <li><code>revert</code>：把已经添加到暂存区的文件从暂存区剔除，其操作方式和 <code>update</code>类似</li> <li><code>add untracked</code>：可以把新增的文件添加到暂存区，其操作方式和 <code>update</code> 类似</li> <li><code>patch</code>：详见下方 <code>git add -p</code></li> <li><code>diff</code>：比较暂存区文件和本地版本库的差异，其操作方式和 <code>update</code> 类似</li> <li><code>quit</code>：退出 <code>git add -i</code> 命令系统</li> <li><code>help</code>：查看帮助信息</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>git add -p
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>直接进入交互命令中最有用的 <code>patch</code> 模式这是交互命令中最有用的模式，其操作方式和 <code>update</code> 类似，选择后 <code>Git</code> 会显示这些文件的当前内容与本地版本库中的差异，然后您可以自己决定是否添加这些修改到暂存区，在命令行 <code>Stage deletion [y,n,q,a,d,/,?]?</code> 后输入 <code>y,n,q,a,d,/,?</code> 其中一项选择操作方式，具体功能解释如下：</p> <ul><li>y：接受修改</li> <li>n：忽略修改</li> <li>q：退出当前命令</li> <li>a：添加修改</li> <li>d：放弃修改</li> <li>/：通过正则表达式匹配修改内容</li> <li>?：查看帮助信息</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>git add -u
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>直接进入交互命令中的 <code>update</code> 模式它会先列出工作区 <code>修改</code> 或 <code>删除</code> 的文件列表，<code>新增</code> 的文件不会被显示，在命令行 <code>Update&gt;&gt;</code> 后输入相应的列表序列号表示选中该项，回车继续选择，如果已选好，直接回车回到命令主界面</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git add --ignore-removal .
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>添加工作区 <code>修改</code> 或 <code>新增</code> 的文件列表， <code>删除</code> 的文件不会被添加</p> <h3 id="git-commit-2"><a href="#git-commit-2" class="header-anchor">#</a> git commit</h3> <blockquote><p>“把暂存区的文件提交到本地版本库</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git commit -m '第一行提交原因'  -m '第二行提交原因'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>不打开编辑器，直接在命令行中输入多行提交原因</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git commit -am '提交原因'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将工作区 <code>修改</code> 或 <code>删除</code> 的文件提交到本地版本库， <code>新增</code> 的文件不会被提交</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git commit --amend -m '提交原因'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改最新一条提交记录的提交原因</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git commit -C HEAD
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将当前文件改动提交到 <code>HEAD</code> 或当前分支的历史ID</p> <h3 id="git-mv"><a href="#git-mv" class="header-anchor">#</a> git mv</h3> <blockquote><p>“移动或重命名文件、目录</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git mv a.md b.md -f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将 <code>a.md</code> 重命名为 <code>b.md</code> ，同时添加变动到暂存区，加 <code>-f</code> 参数可以强制重命名，相比用 <code>mv a.md b.md</code> 命令省去了 <code>git add</code> 操作</p> <h3 id="git-rm"><a href="#git-rm" class="header-anchor">#</a> git rm</h3> <blockquote><p>“从工作区和暂存区移除文件</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git rm b.md
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>从工作区和暂存区移除文件 <code>b.md</code> ，同时添加变动到暂存区，相比用 <code>rm b.md</code> 命令省去了 <code>git add</code> 操作</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git rm src/ -r
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>允许从工作区和暂存区移除目录</p> <h3 id="git-status-2"><a href="#git-status-2" class="header-anchor">#</a> git status</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git status -s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以简短方式查看工作区和暂存区文件状态，示例如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> M demo.html?? test.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>git status --ignored
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看工作区和暂存区文件状态，包括被忽略的文件</p> <h2 id="操作分支"><a href="#操作分支" class="header-anchor">#</a> 操作分支</h2> <h3 id="git-branch-2"><a href="#git-branch-2" class="header-anchor">#</a> git branch</h3> <blockquote><p>“查看、创建、删除分支</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看本地版本库和远程版本库上的分支列表</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch -r
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看远程版本库上的分支列表，加上 <code>-d</code> 参数可以删除远程版本库上的分支</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>分支未提交到本地版本库前强制删除分支</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch -vv
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看带有最后提交id、最近提交原因等信息的本地版本库分支列表</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowU49NhDrc0SXtGWqNUoNQ71NRCnmicZgtFQzgnunugP4pML52jChNFoA/640?wx_fmt=png" alt="图片"></p> <h3 id="git-merge"><a href="#git-merge" class="header-anchor">#</a> git merge</h3> <blockquote><p>“将其它分支合并到当前分支</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git merge --squash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将待合并分支上的 <code>commit</code> 合并成一个新的 <code>commit</code> 放入当前分支，适用于待合并分支的提交记录不需要保留的情况<img src="https://mmbiz.qpic.cn/mmbiz_gif/JdLkEI9sZfd5v84p7lS2Mr1pThtnyVebF8X289ibrNSus6ibMHfT8BviaUJuVibFvdZ8zokaCQlsrqZOKs1W7QZl5Q/640?wx_fmt=gif" alt="图片"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git merge --no-ff
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>默认情况下，<code>Git</code> 执行&quot;<code>快进式合并</code>&quot;（fast-farward merge），会直接将 <code>Master</code>分支指向 <code>Develop</code> 分支，使用 <code>--no-ff</code> 参数后，会执行正常合并，在 <code>Master</code>分支上生成一个新节点，保证版本演进更清晰。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowMRTMOI4wPj7ZZSURhODgT5QGEicfXIS3icW6LJRTwf4YdJUWOnugxQoA/640?wx_fmt=png" alt="图片"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git merge --no-edit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在没有冲突的情况下合并，不想手动编辑提交原因，而是用 <code>Git</code> 自动生成的类似 <code>Merge branch 'test'</code> 的文字直接提交</p> <h3 id="git-checkout-2"><a href="#git-checkout-2" class="header-anchor">#</a> git checkout</h3> <blockquote><p>“切换分支</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout -b daily/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建 <code>daily/0.0.1</code> 分支，同时切换到这个新创建的分支</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout HEAD demo.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>从本地版本库的 <code>HEAD</code>（也可以是提交ID、分支名、Tag名） 历史中检出 <code>demo.html</code> 覆盖当前工作区的文件，如果省略 <code>HEAD</code> 则是从暂存区检出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout --orphan new_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个命令会创建一个全新的，完全没有历史记录的新分支，但当前源分支上所有的最新文件都还在，真是强迫症患者的福音，但这个新分支必须做一次 <code>git commit</code>操作后才会真正成为一个新分支。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout -p other_branch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个命令主要用来比较两个分支间的差异内容，并提供交互式的界面来选择进一步的操作，这个命令不仅可以比较两个分支间的差异，还可以比较单个文件的差异。</p> <h3 id="git-stash"><a href="#git-stash" class="header-anchor">#</a> git stash</h3> <blockquote><p>“在 <code>Git</code> 的栈中保存当前修改或删除的工作进度，当你在一个分支里做某项功能开发时，接到通知把昨天已经测试完没问题的代码发布到线上，但这时你已经在这个分支里加入了其它未提交的代码，这个时候就可以把这些未提交的代码存到栈里。</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将未提交的文件保存到Git栈中</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看栈中保存的列表</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash show stash@{0}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示栈中其中一条记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash drop stash@{0}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>移除栈中其中一条记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash pop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>从Git栈中检出最新保存的一条记录，并将它从栈中移除</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash apply stash@{0}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>从Git栈中检出其中一条记录，但不从栈中移除</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash branch new_banch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把当前栈中最近一次记录检出并创建一个新分支</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash clear
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>清空栈里的所有记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash create
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>为当前修改或删除的文件创建一个自定义的栈并返回一个ID，此时并未真正存储到栈里</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash store xxxxxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将 <code>create</code> 方法里返回的ID放到 <code>store</code> 后面，此时在栈里真正创建了一个记录，但当前修改或删除的文件并未从工作区移除</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ git stash create09eb9a97ad632d0825be1ece361936d1d0bdb5c7$ git stash store 09eb9a97ad632d0825be1ece361936d1d0bdb5c7$ git stash liststash@{0}: Created via &quot;git stash store&quot;.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="操作历史"><a href="#操作历史" class="header-anchor">#</a> 操作历史</h2> <h3 id="git-log-2"><a href="#git-log-2" class="header-anchor">#</a> git log</h3> <blockquote><p>“显示提交历史记录</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log -p
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示带提交差异对比的历史记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log demo.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示 <code>demo.html</code> 文件的历史记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log --since=&quot;2 weeks ago&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示2周前开始到现在的历史记录，其它时间可以类推</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log --before=&quot;2 weeks ago&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示截止到2周前的历史记录，其它时间可以类推</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log -10
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示最近10条历史记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log f5f630a..HEAD
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示从提交ID <code>f5f630a</code> 到 <code>HEAD</code> 之间的记录，<code>HEAD</code> 可以为空或其它提交ID</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log --pretty=oneline
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在一行中输出简短的历史记录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git log --pretty=format:&quot;%h&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>格式化输出历史记录<code>Git</code> 用各种 <code>placeholder</code> 来决定各种显示内容，我挑几个常用的显示如下：</p> <ul><li>%H: commit hash</li> <li>%h: 缩短的commit hash</li> <li>%T: tree hash</li> <li>%t: 缩短的 tree hash</li> <li>%P: parent hashes</li> <li>%p: 缩短的 parent hashes</li> <li>%an: 作者名字</li> <li>%aN: mailmap的作者名</li> <li>%ae: 作者邮箱</li> <li>%ad: 日期 (--date= 制定的格式)</li> <li>%ar: 日期, 相对格式(1 day ago)</li> <li>%cn: 提交者名字</li> <li>%ce: 提交者 email</li> <li>%cd: 提交日期 (--date= 制定的格式)</li> <li>%cr: 提交日期, 相对格式(1 day ago)</li> <li>%d: ref名称</li> <li>%s: commit信息标题</li> <li>%b: commit信息内容</li> <li>%n: 换行</li></ul> <h3 id="git-cherry-pick"><a href="#git-cherry-pick" class="header-anchor">#</a> git cherry-pick</h3> <blockquote><p>“合并分支的一条或几条提交记录到当前分支末梢</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git cherry-pick 170a305
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>合并提交ID <code>170a305</code> 到当前分支末梢</p> <h3 id="git-reset"><a href="#git-reset" class="header-anchor">#</a> git reset</h3> <blockquote><p>“将当前的分支重设（reset）到指定的 <code>&lt;commit&gt;</code> 或者 <code>HEAD</code></p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git reset --mixed &lt;commit&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>--mixed</code> 是不带参数时的默认参数，它退回到某个版本，保留文件内容，回退提交历史</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git reset --soft &lt;commit&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>暂存区和工作区中的内容不作任何改变，仅仅把 <code>HEAD</code> 指向 <code>&lt;commit&gt;</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git reset --hard &lt;commit&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>自从 <code>&lt;commit&gt;</code> 以来在工作区中的任何改变都被丢弃，并把 <code>HEAD</code> 指向 <code>&lt;commit&gt;</code></p> <h3 id="git-rebase"><a href="#git-rebase" class="header-anchor">#</a> git rebase</h3> <blockquote><p>“重新定义分支的版本库状态</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git rebase branch_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>合并分支，这跟 <code>merge</code> 很像，但还是有本质区别，看下图：</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowJVnNZciaQfnn8vbqXet2mRj9aoR4HKQ230T4hggwJwgh5CbfVAwGQsw/640?wx_fmt=jpeg" alt="图片"></p> <p>合并过程中可能需要先解决冲突，然后执行 <code>git rebase --continue</code></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git rebase -i HEAD~~
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>打开文本编辑器，将看到从 <code>HEAD</code> 到 <code>HEAD~~</code> 的提交如下</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pick 9a54fd4 添加commit的说明pick 0d4a808 添加pull的说明# Rebase 326fc9f..0d4a808 onto d286baa## Commands:#  p, pick = use commit#  r, reword = use commit, but edit the commit message#  e, edit = use commit, but stop for amending#  s, squash = use commit, but meld into previous commit#  f, fixup = like &quot;squash&quot;, but discard this commit's log message#  x, exec = run command (the rest of the line) using shell#
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将第一行的 <code>pick</code> 改成 <code>Commands</code> 中所列出来的命令，然后保存并退出，所对应的修改将会生效。如果移动提交记录的顺序，将改变历史记录中的排序。</p> <h3 id="git-revert"><a href="#git-revert" class="header-anchor">#</a> git revert</h3> <blockquote><p>“撤销某次操作，此次操作之前和之后的 <code>commit</code> 和 <code>history</code> 都会保留，并且把这次撤销作为一次最新的提交</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git revert HEAD
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>撤销前一次提交操作</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git revert HEAD --no-edit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>撤销前一次提交操作，并以默认的 <code>Revert &quot;xxx&quot;</code> 为提交原因</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git revert -n HEAD
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>需要撤销多次操作的时候加 <code>-n</code> 参数，这样不会每次撤销操作都提交，而是等所有撤销都完成后一起提交</p> <h3 id="git-diff"><a href="#git-diff" class="header-anchor">#</a> git diff</h3> <blockquote><p>“查看工作区、暂存区、本地版本库之间的文件差异，用一张图来解释</p></blockquote> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgowbTtpHas5ZBpKFGFU8FxcaR8cCeANrcGmBwtpiaHkib8SQxJBLhOxEbOA/640?wx_fmt=png" alt="图片"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git diff --stat
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过 <code>--stat</code> 参数可以查看变更统计数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> test.md | 1 - 1 file changed, 1 deletion(-)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="git-reflog"><a href="#git-reflog" class="header-anchor">#</a> git reflog</h3> <p><code>reflog</code> 可以查看所有分支的所有操作记录（包括commit和reset的操作、已经被删除的commit记录，跟 <code>git log</code> 的区别在于它不能查看已经删除了的commit记录<img src="https://mmbiz.qpic.cn/mmbiz_jpg/kChlCQZAfH5eBrzeP4kHVbwcqAicZkgow9g0GgTQppOgauVPMguPXWE8qOQqsic0j3IL9NxNns5D16qa9HvOn9rA/640?wx_fmt=jpeg" alt="图片"></p> <h2 id="远程版本库连接"><a href="#远程版本库连接" class="header-anchor">#</a> 远程版本库连接</h2> <p>如果在GitHub项目初始化之前，文件已经存在于本地目录中，那可以在本地初始化本地版本库，再将本地版本库跟远程版本库连接起来</p> <h3 id="git-init"><a href="#git-init" class="header-anchor">#</a> git init</h3> <blockquote><p>“在本地目录内部会生成.git文件夹</p></blockquote> <h3 id="git-remote"><a href="#git-remote" class="header-anchor">#</a> git remote</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git remote -v
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>不带参数，列出已经存在的远程分支，加上 <code>-v</code> 列出详细信息，在每一个名字后面列出其远程url</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git remote add origin https://github.com/gafish/gafish.github.com.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>添加一个新的远程仓库，指定一个名字，以便引用后面带的URL</p> <h3 id="git-fetch"><a href="#git-fetch" class="header-anchor">#</a> git fetch</h3> <blockquote><p>“将远程版本库的更新取回到本地版本库</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git fetch origin daily/0.0.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>默认情况下，<code>git fetch</code> 取回所有分支的更新。如果只想取回特定分支的更新，可以指定分支名。</p> <h2 id="问题排查"><a href="#问题排查" class="header-anchor">#</a> 问题排查</h2> <h3 id="git-blame"><a href="#git-blame" class="header-anchor">#</a> git blame</h3> <blockquote><p>“查看文件每行代码块的历史信息</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git blame -L 1,10 demo.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>截取 <code>demo.html</code> 文件1-10行历史信息</p> <h3 id="git-bisect"><a href="#git-bisect" class="header-anchor">#</a> git bisect</h3> <blockquote><p>“二分查找历史记录，排查BUG</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git bisect start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>开始二分查找</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git bisect bad
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>标记当前二分提交ID为有问题的点</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git bisect good
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>标记当前二分提交ID为没问题的点</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git bisect reset
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查到有问题的提交ID后回到原分支</p> <h2 id="更多操作"><a href="#更多操作" class="header-anchor">#</a> 更多操作</h2> <h3 id="git-submodule"><a href="#git-submodule" class="header-anchor">#</a> git submodule</h3> <blockquote><p>“通过 Git 子模块可以跟踪外部版本库，它允许在某一版本库中再存储另一版本库，并且能够保持2个版本库完全独立</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git submodule add https://github.com/gafish/demo.git demo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将 <code>demo</code> 仓库添加为子模块</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git submodule update demo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>更新子模块 <code>demo</code></p> <h3 id="git-gc"><a href="#git-gc" class="header-anchor">#</a> git gc</h3> <blockquote><p>“运行Git的垃圾回收功能，清理冗余的历史快照</p></blockquote> <h3 id="git-archive"><a href="#git-archive" class="header-anchor">#</a> git archive</h3> <blockquote><p>“将加了tag的某个版本打包提取</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>git archive -v --format=zip v0.1 &gt; v0.1.zip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>--format</code> 表示打包的格式，如 <code>zip</code>，<code>-v</code> 表示对应的tag名，后面跟的是tag名，如 <code>v0.1</code>。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/24/2021, 4:16:04 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tools-ui/notes/eventLoop.html" class="prev">
        EVENTLOOP
      </a></span> <span class="next"><a href="/tools-ui/notes/markdown.html">
        markdown速记表
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/tools-ui/assets/js/app.a3368f94.js" defer></script><script src="/tools-ui/assets/js/3.1c456e36.js" defer></script><script src="/tools-ui/assets/js/86.1e46ba4b.js" defer></script>
  </body>
</html>
